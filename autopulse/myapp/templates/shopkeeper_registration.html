{% extends "base.html" %}
{% block content %}

<!--	main Section-->

<main id="main">
<style>
    .custom-input {
        width: 600px;
    }
	.backk{
        background-color: #79806f;
        background-size: cover;
        height:100%;
        width:100vw;
    }
</style>
<div class="backk pt-5">
<center>
    <h2><font color="#366092"><br><b>Shopkeeper Register</b></font></h2>
    <div class="container">
	<form name="frm" role="form" action="/shopkeeper_registration" method="post" >
        {% csrf_token %}
         <div class="form-group">
			 <label for="oname"><br><b>Owner Name</b></label>
				<input class="form-control custom-input" type="text" id="oname" name="oname" placeholder="Owner Name" required="required">
			 <label for="sname"><br><b>Shop Name</b></label>
				<input class="form-control custom-input" type="text" id="shname" name="shname" placeholder="Shop Name" required="required">
		 </div>

	     <div class="form-group">
			 <label for="place"><b>Address</b></label>
			    <input class="form-control custom-input" type="text" id="place" name="place" placeholder="Place" ><br>
                <input class="form-control custom-input" type="text" id="city" name="city" placeholder="City" ><br>
                <input class="form-control custom-input" type="text" id="dist" name="dist" placeholder="District" ><br>
                <input class="form-control custom-input" type="text"  name="pincode" placeholder="pincode" pattern="[0-9]+" minlength="6" maxlength="6" ><br>
		 </div>
	     <div class="form-group">
			 <label for="contact"><b>Contact</b></label>
			 <input class="form-control custom-input" type="text" id="contact" name="contact" pattern="[0-9]+" placeholder="Enter contact"  minlength="10" maxlength="10" required="required"></td>
		 </div>
	     <div class="form-group">
			 <label for="email"><b>Email</b></label>
			 <input class="form-control custom-input" type="email" id="email" name="email" pattern="[a-zA-Z0-9!#$%&amp;'*+\/=?^_`{|}~.-]+@[a-zA-Z0-9]+.com*" placeholder="Enter email id"  required="required"></td>
		 </div>

        <div class="form-group">
             <button type="button" class="btn btn-warning" onclick="getLocation()">Shop Geolocation <span class="required"></span></button>
        </div>
		<div class="form-group">-->
			 <label for="latitude"><b>Latitude</b></label>-->
			    <input class="form-control custom-input" type="number" id="latitude" name="latitude" placeholder="Latitude" step="any" ><br>-->
		</div>-->
		<div class="form-group">-->
			 <label for="longitude"><b>Longitude</b></label>-->
			    <input class="form-control custom-input" type="number" id="longitude" name="longitude" placeholder="Longitude" step="any" ><br>-->
		</div>
		<div class="form-group">
			 <label><b>Opens On</b></label>
			    <input class="form-control custom-input" type="time"  name="opent" placeholder="" ><br>
		</div>
		<div class="form-group">
			 <label><b>Closes On</b></label>
			    <input class="form-control custom-input" type="time"  name="closet" placeholder="" ><br>
		</div>
		<div class="form-group">
			 <label for="uname"><b>User Name</b></label>
			    <input class="form-control custom-input" type="text" id="uname" name="uname" placeholder="Username" ><br>
		</div>
		<div class="form-group">
			<label for="password"><b>Create Password</b></label>
			<input class="form-control custom-input" type="password"  name="password" placeholder="Enter password" minlength="8" id="password" title="Must contain  at least 8 or more characters " required="required" >
		</div>
		<div id="message">
             <p id="length" class="pt" >  *Password must contain minimum 8 characters</p>
        </div>
		<div class="form-group">
            <label for="password"><b>Confirm Password</b></label>
			<input class="form-control custom-input" type="text"  name="password1" placeholder="Re-enter password" minlength="8" id="password1" onblur="function1()" required="required" >
		</div>
        <br>
	   <button type="submit" class="btn btn-info" id="bt" name="bt">Register</button>
        <button type="reset" class="btn btn-info" id="rt" name="rt">Reset</button>
        {{msg}}
        <br>
                <a href="/shopkeeper_login"><br>Already Registered? Login</a></h1><br><br>
    </form>
	</div>
</center>
<!--      SCRIPT -->
      <script>
         function function1() {
  let x = document.forms["frm"]["password"].value;
  let y = document.forms["frm"]["password1"].value;
  if (x != y) {
    alert("Password Not Matching!!!");
    return false;
  }
}

function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
            alert("Location Fetched!!!");
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    }

    function showPosition(position) {
        document.getElementById("latitude").value = position.coords.latitude;
        document.getElementById("longitude").value = position.coords.longitude;
    }

    function showError(error) {
        switch (error.code) {
            case error.PERMISSION_DENIED:
                alert("User denied the request for Geolocation.");
                break;
            case error.POSITION_UNAVAILABLE:
                alert("Location information is unavailable.");
                break;
            case error.TIMEOUT:
                alert("The request to get user location timed out.");
                break;
            case error.UNKNOWN_ERROR:
                alert("An unknown error occurred.");
                break;
        }
    }
      </script>
<!--   END   SCRIPT -->

</main><!-- End #main -->
{% endblock %}