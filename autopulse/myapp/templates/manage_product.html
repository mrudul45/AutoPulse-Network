{% extends "baseshopkeeper.html" %}

{% block content %}


<div class="container mt-5">
        <h1 class="mb-4">Manage Products</h1>

        <!-- Add Product Button -->
        <a href="{% url 'addproduct' %}" class="btn btn-primary mb-3">Add Product</a>
        <table class="table table-striped table-dark text-center">
  <thead>
    <tr>
      <th scope="col">product id</th>
      <th scope="col">product name</th>
      <th scope="col">product specification</th>
      <th scope="col">manufacture</th>
        <th scope="col">price</th>
        <th scope="col">quantity</th>
        <th scope="col">product img</th>
        <th scope="col">status</th>
        <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for product in products %}
    <tr>
      <th scope="row">{{product.id}}</th>
      <td>{{product.product_name}}</td>
      <td>{{product.product_specification}}</td>
      <td>{{product.manufacture_name}}</td>
        <td>{{product.price}}</td>
        <td>{{product.quantity}}</td>
        <td><img src='{{product.product_image.url}}' width="40" height="40" alt='img'></td>
        <td>{{product.status}}</td>
      <td>
       <form method="post" action="{% url 'remove_product' %}">
           {% csrf_token %}
           <input type="hidden" name="product_id" value="{{ product.id }}">
           <button type="submit" class="btn btn-danger">Remove</button>
       </form>
   </td>
<!--        <td><a href="" class="btn btn-danger">Remove</a> </td>-->
         <form method="post" action="{% url 'update_product' %}">
             {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.id }}">
        <td><button type="submit" class="btn btn-danger">Update</button></td>
              </form>
    </tr>
    {% endfor %}
  </tbody>
</table>
<!--        <ul class="list-group">-->

<!--            {% for product in products %}-->

<!--                <li class="list-group-item d-flex justify-content-between align-items-center" style="color:#000 !important;">-->
<!--                    {{ product.product_name }} - {{ product.price }}-->
<!--                    {{ product.product_specification }} - {{ product.manufacture_name }}-->
<!--                    {{ product.quantity }} - {{ product.product_image}}-->
<!--                    {{ product.status }}-->
<!--                    &lt;!&ndash; Remove Product Button &ndash;&gt;-->
<!--                    <a href="#" class="btn btn-danger btn-sm">Remove</a>-->
<!--                </li>-->
<!--                &lt;!&ndash; Add more details as needed &ndash;&gt;-->
<!--            {% endfor %}-->
<!--        </ul>-->
    </div>

{% endblock %}
 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>